$(document).ready(function(){var a=$("#job_queue_tbl").DataTable({sAjaxSource:ws_path,sAjaxDataProp:"",aoColumns:[{mData:function(b){return'<a href="'+job_info_path+b.id+'">'+b.name+"</a>"}},{mData:"creationTime"},{mData:"status"},{mData:"location"},{mData:"status"}],columnDefs:[{render:function(b){return moment(b).format("MMM DD, YYYY hh:mm:ss A")},targets:1},{render:function(b){if("Canceled"==b||"Finished"==b||"Terminated"==b){return'<button class="btn btn-danger btn-xs cancel" data-placement="top" data-toggle="tooltip" title="Cancel Job" disabled="disabled"><span class="glyphicon glyphicon-trash"></span></button>'}else{return'<button class="btn btn-danger btn-xs cancel" data-placement="top" data-toggle="tooltip" title="Cancel Job"><span class="glyphicon glyphicon-trash"></span></button>'}},orderable:false,bSearchable:false,targets:4}],order:[[1,"desc"]]});$("#job_queue_tbl tbody").on("click","tr td .cancel",function(){var d=$(this).parents("tr")[0];var c=a.row(d);var b=c.data();$("#confirm_cancel").find(".modal-title").text("Job Cancel Request: "+b.name);$("#cancel_btn").data("id",c.index());$("#confirm_cancel").modal("toggle")});$(document).on("click","#cancel_btn",function(c){var f=$("#cancel_btn").data("id");var d=a.row(f);var b=d.data();$.ajax({url:ws_path+b.id,type:"DELETE",success:function(e){d.data(e)}})});$("body").tooltip({selector:'[data-toggle="tooltip"]'})});