$(document).ready(function(){var a=$("#job_queue_tbl").DataTable({sAjaxSource:encodeURI(ws_job_queue_url),sAjaxDataProp:"",aoColumns:[{mData:"name"},{mData:"creationTime"},{mData:"status"},{mData:function(b){return{id:b.id}}},{mData:"status"}],columnDefs:[{render:function(b){return moment(b).format("MMM DD, YYYY hh:mm:ss A")},width:"0",className:"text-center",targets:1},{render:function(b){return b},width:"0",className:"text-center",targets:2},{render:function(c){var b=job_detail_url+"/"+c.id;return'<a class="btn btn-xs btn-success"  href="'+encodeURI(b)+'" data-placement="top" data-toggle="tooltip" title="View Details"><span class="fa fa-info-circle"></span></a>'},orderable:false,bSearchable:false,width:"0",className:"text-center",targets:3},{render:function(b){if("Canceled"===b||"Finished"===b||"Terminated"===b){return'<button class="btn btn-xs btn-danger cancel" data-placement="top" data-toggle="tooltip" title="Cancel Job" disabled="disabled"><span class="glyphicon glyphicon-trash"></span></button>'}else{return'<button class="btn btn-xs btn-danger cancel" data-placement="top" data-toggle="tooltip" title="Cancel Job"><span class="glyphicon glyphicon-trash"></span></button>'}},orderable:false,bSearchable:false,width:"0",className:"text-center",targets:4}],order:[[1,"desc"]]});$("#job_queue_tbl tbody").on("click","tr td .cancel",function(){var d=$(this).parents("tr")[0];var c=a.row(d);var b=c.data();$("#job_name").text(b.name);$("#cancel_btn").data("id",c.index());$("#confirm_cancel").modal("toggle")});$(document).on("click","#cancel_btn",function(c){var f=$("#cancel_btn").data("id");var d=a.row(f);var b=d.data();alert(encodeURI(ws_job_queue_url+"/"+b.id));$.ajax({url:encodeURI(ws_job_queue_url+"/"+b.id),type:"DELETE",success:function(e){d.data(e)},error:function(e,h,g){alert(e.responseText)}})});$("body").tooltip({selector:'[data-toggle="tooltip"]'})});